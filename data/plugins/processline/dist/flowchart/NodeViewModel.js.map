{"version":3,"sources":["../../src/flowchart/NodeViewModel.js"],"names":["FlowChart","NodeViewModel","nodeDataModel","data","flowchart","inputConnectors","createConnectorsViewModel","Data","_selected","name","x","y","width","numConnectors","Math","max","length","computeConnectorY","connectorDataModel","connectorsDataModel","connectorsViewModel","connectorViewModel","ConnectorViewModel","push","addConnector","nodesDataModel","nodesViewModel","i"],"mappings":";;;;;;;;;;;;;;;AAAQA,Y,cAAAA,S;;;;;;;;;;;;;;;;;;;;;4BAEKC,a;AACP,2BAAYC,aAAZ,EAA0B;AAAA;;AAC9B,UAAKC,IAAL,GAAYD,aAAZ;AACA,UAAKE,SAAL,GAAe,IAAIJ,SAAJ,EAAf;AACA,UAAKK,eAAL,GAAuB,KAAKD,SAAL,CAAeE,yBAAf,CAAyC,KAAKH,IAAL,CAAUI,IAAnD,EAAyD,CAAzD,EAA4D,IAA5D,CAAvB;AACA,UAAKC,SAAL,GAAiB,KAAjB;AACO;AACP;;;;;;AAMA;;AAEA;;;AAGA;AACA;AACA;;;;;4BACO;AACN,aAAO,KAAKL,IAAL,CAAUM,IAAV,IAAkB,EAAzB;AACA;;;yBAKG;AACH,aAAO,KAAKN,IAAL,CAAUO,CAAjB;AACA;;;yBAKG;AACH,aAAO,KAAKP,IAAL,CAAUQ,CAAjB;AACA;;;6BAKO;AACP,aAAO,KAAKR,IAAL,CAAUS,KAAjB;AACA;;;8BAKQ;AACR,UAAIC,gBACHC,KAAKC,GAAL,CACC,KAAKV,eAAL,CAAqBW,MADtB,CADD;AAGA,aAAO,KAAKZ,SAAL,CAAea,iBAAf,CAAiCJ,aAAjC,CAAP;AACA;;;8BAKQ;AACR,WAAKL,SAAL,GAAiB,IAAjB;AACA;;;gCAKU;AACV,WAAKA,SAAL,GAAiB,KAAjB;AACA;;;sCAKgB;AAChB,WAAKA,SAAL,GAAiB,CAAC,KAAKA,SAAvB;AACA;;;gCAKU;AACV,aAAO,KAAKA,SAAZ;AACA;;;kCAIYU,kB,EAAoBR,C,EAAGS,mB,EAAqBC,mB,EAAqB;AAC7E,UAAIC,qBAAoB,KAAKjB,SAAL,CAAekB,kBAAf,CAAkCJ,kBAAlC,EAAsDR,CAAtD,EACrB,KAAKN,SAAL,CAAea,iBAAf,CAAiCG,oBAAoBJ,MAArD,CADqB,EACyC,IADzC,CAAxB;;AAGAG,0BAAoBI,IAApB,CAAyBL,kBAAzB;;AAEA;AACAE,0BAAoBG,IAApB,CAAyBF,kBAAzB;AACA;;;uCAKiBH,kB,EAAoB;;AAErC,UAAI,CAAC,KAAKf,IAAL,CAAUI,IAAf,EAAqB;AACpB,YAAKJ,IAAL,CAAUI,IAAV,GAAiB,EAAjB;AACA;AACD,WAAKiB,YAAL,CAAkBN,kBAAlB,EAAsC,CAAtC,EAAyC,KAAKf,IAAL,CAAUI,IAAnD,EAAyD,KAAKA,IAA9D;AACA;;;0CAUmBkB,c,EAAgB;AACpC,UAAIC,iBAAiB,EAArB;;AAEA,UAAID,cAAJ,EAAoB;AACnB,YAAK,IAAIE,IAAI,CAAb,EAAgBA,IAAIF,eAAeT,MAAnC,EAA2C,EAAEW,CAA7C,EAAgD;AACnCD,uBAAeH,IAAf,CAAoB,IAAItB,aAAJ,CAAkBwB,eAAeE,CAAf,CAAlB,CAApB;AACZ;AACD;;AAED,aAAOD,cAAP;AACA","file":"NodeViewModel.js","sourcesContent":["import {FlowChart} from './flowchart'\n\nexport class NodeViewModel {\n      constructor(nodeDataModel){\n\t\tthis.data = nodeDataModel;\n\t\tthis.flowchart=new FlowChart();\n\t\tthis.inputConnectors = this.flowchart.createConnectorsViewModel(this.data.Data, 0, this);\n\t\tthis._selected = false;\n        }\n\t\t/*// set the default width value of the node\n\t\tif (!this.data.width || this.data.width < 0) {\n\t\t\tthis.data.width = this.flowchart.defaultNodeWidth;\n\t\t}\n\t\t*/\n\n\t\t//this.outputConnectors = createConnectorsViewModel(this.data.outputConnectors, this.data.width, this);\n\n\t\t// Set to true when the node is selected.\n\n\n\t\t//\n\t\t// Name of the node.\n\t\t//\n\t\tname() {\n\t\t\treturn this.data.name || \"\";\n\t\t};\n\n\t\t//\n\t\t// X coordinate of the node.\n\t\t//\n\t\tx() {\n\t\t\treturn this.data.x;\n\t\t};\n\n\t\t//\n\t\t// Y coordinate of the node.\n\t\t//\n\t\ty() {\n\t\t\treturn this.data.y;\n\t\t};\n\n\t\t//\n\t\t// Width of the node.\n\t\t//\n\t\twidth() {\n\t\t\treturn this.data.width;\n\t\t}\n\n\t\t//\n\t\t// Height of the node.\n\t\t//\n\t\theight() {\n\t\t\tvar numConnectors =\n\t\t\t\tMath.max(\n\t\t\t\t\tthis.inputConnectors.length);\n\t\t\treturn this.flowchart.computeConnectorY(numConnectors);\n\t\t}\n\n\t\t//\n\t\t// Select the node.\n\t\t//\n\t\tselect() {\n\t\t\tthis._selected = true;\n\t\t};\n\n\t\t//\n\t\t// Deselect the node.\n\t\t//\n\t\tdeselect() {\n\t\t\tthis._selected = false;\n\t\t};\n\n\t\t//\n\t\t// Toggle the selection state of the node.\n\t\t//\n\t\ttoggleSelected() {\n\t\t\tthis._selected = !this._selected;\n\t\t};\n\n\t\t//\n\t\t// Returns true if the node is selected.\n\t\t//\n\t\tselected() {\n\t\t\treturn this._selected;\n\t\t};\n\n\t\t//\n\t\t// Internal function to add a connector.\n\t\taddConnector(connectorDataModel, x, connectorsDataModel, connectorsViewModel) {\n\t\t\tvar connectorViewModel =this.flowchart.ConnectorViewModel(connectorDataModel, x,\n\t\t\t\t\t\tthis.flowchart.computeConnectorY(connectorsViewModel.length), this);\n\n\t\t\tconnectorsDataModel.push(connectorDataModel);\n\n\t\t\t// Add to node's view model.\n\t\t\tconnectorsViewModel.push(connectorViewModel);\n\t\t}\n\n\t\t//\n\t\t// Add an input connector to the node.\n\t\t//\n\t\taddInputConnector(connectorDataModel) {\n\n\t\t\tif (!this.data.Data) {\n\t\t\t\tthis.data.Data = [];\n\t\t\t}\n\t\t\tthis.addConnector(connectorDataModel, 0, this.data.Data, this.Data);\n\t\t};\n\n\t\t//\n\t\t// Add an ouput connector to the node.\n\t\t//\n\n\n\t//\n\t// Wrap the nodes data-model in a view-model.\n\t//\n\tcreateNodesViewModel(nodesDataModel) {\n\t\tvar nodesViewModel = [];\n\n\t\tif (nodesDataModel) {\n\t\t\tfor (var i = 0; i < nodesDataModel.length; ++i) {\n                nodesViewModel.push(new NodeViewModel(nodesDataModel[i]));\n\t\t\t}\n\t\t}\n\n\t\treturn nodesViewModel;\n\t};\n}"]}